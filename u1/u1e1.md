# Tema 3. JavaScript profesional en una aplicaci贸n web

## Unidad 1. Trabajo avanzado con el DOM

## Ejercicio 3.1.2. (Castellano)

En el fichero `u1e1.html` podr谩s comprobar que se carga como m贸dulo el script `u1e1.js` que tiene como objetivo sentar unas bases para la manipulaci贸n del DOM desde JavaScript.

Las tareas que vamos a practicar se centrar谩n en:

1) Leer o extraer informaci贸n del DOM
2) Manipular nodos del DOM
3) Generar nuevos nodos en el DOM
4) Modificar atributos o clases de nodos del DOM

Para ello vamos a realizar una serie de operaciones b谩sicas sobre la estructura HTML inicial que encontramos en `u1e1.html`, donde disponemos de una lista de elementos, cada uno de los cuales cuenta con 3 atributos:

- `data-id`: representa el id del item
- `data-es`: representa la traducci贸n del item al espa帽ol
- `data-en`: representa la traducci贸n del item al ingl茅s


### A. Funci贸n `getItems`

Esta funci贸n no recibe ning煤n par谩metro. Su objetivo es seleccionar del DOM todos los nodos con clase `js-item` y retornar un `array` de objetos, cada uno de los cuales contendr谩 la siguiente informaci贸n:

- `id`: valor del atributo `data-id`
- `es`: valor del atributo `data-es`
- `en`: valor del atributo `data-en`

Por ejemplo, para el primer elemento de la lista, el objeto que le representar铆a en el array devuelto ser铆a este:

```js
{
    id: '1',
    es: 'Primero',
    en: 'First'
}
```


### B. Funci贸n `emptyList`

Esta funci贸n tampoco recibe ning煤n par谩metro, y su funcionalidad ha de ser la de vaciar el nodo del DOM con clase `js-list`, que representa la lista de items.

>  NOTA: Es importante que NO ha de eliminar el nodo con clase `js-list`, sino simplemente borrar **su contenido**.

Por tanto tras una llamada a esta funci贸n el HTML correspondiente a la lista deber铆a quedar de la siguiente manera:

```html
<ul class="js-list"></ul>
```


### C. Funci贸n `renderList`

Has de crear otra funci贸n con nombre `renderList` que recibir谩 2 par谩metros:

- `itemList`: que es una `array` de objetos con la estructura vista anteriormente (propiedades `id`, `es` y `en`)
- `lang`: que es un `string` que puede ser `es` o `en` y que representa el idioma a emplear a la hora de generar la lista.

El objetivo de esta funci贸n `renderList` es actualizar el DOM, y m谩s concretamente el nodo con clase `js-list` incluyendo en su interior un nodo `<li>` por cada elemento del array `itemList` que recibe como par谩metro. Antes de generar esa lista de nodos, ha de vaciar el contenido previo de dicho nodo mediante la funci贸n `emptyList`.

Para ello la estructura HTML que se usar谩 por cada item de la lista a generar es la siguiente:

```html
`<li class="js-item" data-id="{{ID}}" data-es="{{ES}}" data-en="{{EN}}">{{PALABRA_TRADUCIDA}}</li>`
```

De manera que:

- `{{ID}}` se ha de sustituir por el valor de la propiedad `id` del objeto
- `{{ES}}` se ha de sustituir por el valor de la propiedad `es` del objeto
- `{{EN}}` se ha de sustituir por el valor de la propiedad `en` del objeto
- `{{PALABRA_TRADUCIDA}}` se ha de sustituir por el valor de la propiedad indicada por el par谩metro `lang`


### D. Funci贸n `updateItemStyle`

Esta funci贸n recibe como 煤nico par谩metro un `idItem` y lo que ha de lograra es a帽adir la clase `highlight` al nodo con clase `js-item` cuyo atributo `data-id` corresponda al valor del par谩metro `idItem` que recibe.


### E. Aplicar c贸digo

El 煤ltimo paso que vamos a realizar es a帽adir una serie de instrucciones al script `u1e1.js` sobre el que estamos trabajando para  ver las anteriores funciones en acci贸n.

1) Declara una constante `words` que se inicialice con el valor devuelto por la llamada a la funci贸n `getItems`
2) Llama a la funci贸n `renderList` pas谩ndole como par谩metros la anterior constante `words` y como `lang` el valor `en`
3) Llama a la funci贸n `updateItemStyle` pas谩ndole como par谩metro el id `2`
4) Llama a la funci贸n `updateItemStyle` pas谩ndole como par谩metro el id `4`


-----


# Tema 3. JavaScript professional en una aplicaci贸 web

## Unitat 1. Treball avan莽at amb el DOM

## Exercici 3.1.2. (Catal)

Al fitxer `u1e1.html` podrs comprovar que es carrega com a m貌dul l'script `u1e1.js` que t茅 com a objectiu establir unes bases per a la manipulaci贸 del DOM des de JavaScript.

Les tasques que practicarem se centraran en:

1) Llegir o extreure informaci贸 del DOM
2) Manipular nodes del DOM
3) Generar nous nodes al DOM
4) Modificar atributs o classes de nodes del DOM

Per aix貌 realitzarem una s猫rie d'operacions bsiques sobre l'estructura HTML inicial que trobem a `u1e1.html`, on disposem d'una llista d'elements, cadascun dels quals compta amb 3 atributs:

- `data-id`: representa l'id de l'item
- `data-es`: representa la traducci贸 de l'item al espanyol
- `data-en`: representa la traducci贸 de l'铆tem a l'angl猫s

>  NOTA: s important no modificar els idiomes per tal que la correcci贸 automtica funcioni.

### A. Funci贸 `getItems`

Aquesta funci贸 no rep cap parmetre. El seu objectiu 茅s seleccionar del DOM tots els nodes amb classe `js-item` i retornar un `array` d'objectes, cadascun dels quals contindr la informaci贸 seg眉ent:

- `id`: valor de l'atribut `data-id`
- `es`: valor de l'atribut `data-es`
- `en`: valor de l'atribut `data-en`

Per exemple, per al primer element de la llista, l'objecte que el representaria a l'array retornat seria aquest:

```js
{
     id: '1',
     es: 'Primero',
     en: 'First'
}
```


### B. Funci贸 `emptyList`

Aquesta funci贸 tampoc no rep cap parmetre, i la seva funcionalitat ha de ser la de buidar el node del DOM amb classe `js-list`, que representa la llista d'铆tems.

>  NOTA: s important que NO ha d'eliminar el node amb classe `js-list`, sin贸 simplement esborrar **el seu contingut**.

Per tant, despr茅s d'una crida a aquesta funci贸, l'HTML corresponent a la llista hauria de quedar de la manera seg眉ent:

```html
<ul class="js-list"></ul>
```


### C. Funci贸 `renderList`

Has de crear una altra funci贸 amb nom `renderList` que rebr 2 parmetres:

- `itemList`: que 茅s un `array` d'objectes amb l'estructura vista anteriorment (propietats `id`, `es` i `en`)
- `lang`: que 茅s un `string` que pot ser `es` o `en` i que representa l'idioma a emprar a l'hora de generar la llista.

L'objectiu d'aquesta funci贸 `renderList` 茅s actualitzar el DOM, i m茅s concretament el node amb classe `js-list` incloent-hi un node `<li>` per cada element de l'array `itemList` que rep com a parmetre. Abans de generar aquesta llista de nodes, heu de buidar el contingut previ del node mitjan莽ant la funci贸 `emptyList`.

Per aix貌 l'estructura HTML que s'usar per cada 铆tem de la llista que cal generar 茅s la seg眉ent:

```html
`<li class="js-item" data-id="{{ID}}" data-es="{{ES}}" data-en="{{EN}}">{{PALABRA_TRADUDA}}< /li>`
```

De manera que:

- `{{ID}}` s'ha de substituir pel valor de la propietat `id` de l'objecte
- `{{ES}}` s'ha de substituir pel valor de la propietat `es` de l'objecte
- `{{EN}}` s'ha de substituir pel valor de la propietat `en` de l'objecte
- `{{PALABRA_TRADUDA}}` s'ha de substituir pel valor de la propietat indicada pel parmetre `lang`


### D. Funci贸 `updateItemStyle`

Aquesta funci贸 rep com a 煤nic parmetre un `idItem` i el que ha d'aconseguir 茅s afegir la classe `highlight` al node amb classe `js-item` l'atribut de la qual `data-id` correspongui al valor del parmetre `idItem` que rep.


### E. Aplicar codi

L'煤ltim pas que farem 茅s afegir una s猫rie d'instruccions a l'script `u1e1.js` sobre el que estem treballant per veure les funcions anteriors en acci贸.

1) Declara una constant `words` que s'inicialitzi amb el valor tornat per la crida a la funci贸 `getItems`
2) Crida a la funci贸 `renderList` passant-li com a parmetres l'anterior constant `words` i com a `lang` el valor `en`
3) Crida a la funci贸 `updateItemStyle` passant-li com a parmetre l'id `2`
4) Crida a la funci贸 `updateItemStyle` passant-li com a parmetre l'id `4`
